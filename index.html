<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>USS Minnesota Community Solar Garden Projects</title>
<!--
  <style>
    html,
    body,
    #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }
  </style>
-->
  <link rel="stylesheet" href="style.css">
  <script type="module" src="https://js.arcgis.com/calcite-components/1.0.0-beta.82/calcite.esm.js"></script>
  <link rel="stylesheet" type="text/css" href="https://js.arcgis.com/calcite-components/1.0.0-beta.82/calcite.css" />

  <script src="https://js.arcgis.com/4.23/"></script>
  <link rel="stylesheet" href="https://js.arcgis.com/4.23/esri/themes/light/main.css" />
  <script src="script.js"></script>
  
 <script type="text/arcgis-arcade" id="projects-arcade">
    var counties =  FeatureSetByName($map,"USA Counties (Generalized)")

    var borders = Intersects($feature, counties)

    var list = ""
    for (var k in borders){
        list += TextFormatting.NewLine + k.NAME
        }
    
    // This prints the output to console
    //Console(list)
    return list
  </script> 

</head>
 
    <div class="header"><a href="https://www.us-solar.com/" target="_blank"><img src="USSolar%20Logo.png"/></a>Minnesota Community Solar Gardens Won</div>
    
<body>

   
    <calcite-shell class="projects-list" style="top: 47px">
    <calcite-shell-panel slot="primary-panel">
        <calcite-panel heading="Projects in Adjacent Counties" summary="Click a county to view projects">
            <calcite-block collapsible heading="Results" id="result-block">
            <calcite-button color="neutral" id="btn-export" style="height:35px">
                <calcite-icon icon="download" scale="m" id="download"></calcite-icon>
                <calcite-tooltip label="Download CSV" reference-element="download" offset-distance="1">Download CSV of Results</calcite-tooltip>
            </calcite-button>
            <calcite-list id="result-list"></calcite-list>
            </calcite-block>
        </calcite-panel>
      </calcite-shell-panel>  
        
    <div id="viewDiv"></div>
        
  </calcite-shell>  
    
  
</body>

</html>